# mechanics-spec.md（ゲームメカニクス仕様 / CoC6風）

## 0. 目的と範囲
本書は、ゲーム進行に必要な「数値ルール」を定義する。
- 能力値の決定方法（ダイス）
- 派生値（SAN/耐久力/MP等）と算出
- 技能ポイントの算出と割り振り
- 判定方式（d100ロール）と難易度/成功段階
- 対立（危機・戦闘相当）の短時間収束ルール

---

## 1. 能力値（能力値の決め方）
### 1.1 能力値一覧
- STR（筋力）
- CON（体力）
- POW（精神力）
- DEX（敏捷性）
- APP（外見）
- SIZ（体格）
- INT（知性）
- EDU（教育）

### 1.2 生成ルール（ダイス）
以下の方式で算出する（CoC6準拠）。
- STR：3d6
- CON：3d6
- POW：3d6
- DEX：3d6
- APP：3d6
- SIZ：2d6 + 6
- INT：2d6 + 6
- EDU：3d6 + 3

---

## 2. 派生値（SAN/耐久力/MP 等）
以下の式で算出する（CoC6準拠）。
- SAN（正気度）：POW × 5
- 幸運：POW × 5
- アイデア：INT × 5
- 知識：EDU × 5
- 耐久力（HP）：(CON + SIZ) ÷ 2（端数は切り捨て）
- マジックポイント（MP）：POW × 1

---

## 3. 技能（Skills）とポイント
### 3.1 技能の扱い
- 技能は **0〜99%** のパーセンテージで管理する
- 初期値（ベース値）は、ゲーム側で定義した「最低保証値」を持つ（例：聞き耳25など）
  - 初期値一覧はこのファイルに定義する

### 3.2 技能ポイント算出
- 職業技能ポイント：EDU × 20
- 趣味技能ポイント：INT × 10

### 3.3 割り振りルール
- 生成したポイントを、技能に自由に割り振る
- 1技能の上限：**80%**（短時間ゲームで強すぎを避ける）
- 職業ポイントは「職業で使える技能」のみに割り振る
- 趣味ポイントは任意技能に割り振り可

### 3.4 技能一覧（本アプリ標準）と初期値
> 1時間完結で迷いにくくするため、技能は「よく使うもの」に絞った標準セットとする。

#### 3.4.1 探索・知覚
- **目星**：25%（隠された手掛かり、違和感の発見）
- **聞き耳**：25%（物音、会話、接近の察知）
- **図書館**：20%（資料調査、記録・文献からの情報）
- **追跡**：10%（足跡、痕跡、対象の追尾）
- **ナビゲート**：10%（道順、地理、迷わず移動）

#### 3.4.2 対人・交渉
- **説得**：15%（論理的に納得させる）
- **言いくるめ**：10%（その場しのぎ、口先、軽い嘘）
- **威圧**：15%（脅し、圧、強い態度）
- **信用**：15%（身分・権威・誠実さで通す）
- **心理学**：10%（嘘や動揺の見抜き、相手の意図の推測）

#### 3.4.3 身体・行動
- **隠れる**：10%（身を隠す、見つからないようにする）
- **忍び歩き**：10%（音を立てずに近づく/離れる）
- **登攀**：20%（壁・崖・高所の移動）
- **回避**：25%（危険の回避、攻撃の回避、罠のとっさの回避）
- **応急手当**：30%（応急処置、止血、簡易回復）

#### 3.4.4 技術・工作
- **鍵開け**：10%（鍵・簡易な施錠の突破）
- **機械修理**：10%（装置の修理、簡易なメンテ）
- **電気修理**：10%（配線、電源、電子機器の復旧）
- **隠す**：10%（物品の隠匿、証拠隠し）

#### 3.4.5 対立（危機・戦闘相当）
> 初期版は「対立＝短時間で収束する危機」として扱うため、戦闘技能は最小限にする。
- **近接戦闘**：25%（殴る、組み付く、簡易武器）
- **射撃**：20%（拳銃・弓・投擲など遠距離）
- **投擲**：20%（石、ナイフ、即席の投げ）

---

## 4. 判定方式（d100）
### 4.1 基本判定
- プレイヤーは **d100（1〜100）** を振る
- **出目 ≤ 技能値** なら成功、超えたら失敗
- 判定対象が技能でない場合、GMは「対応技能」または「代替技能」を宣言する

### 4.2 成功段階
成功/失敗だけだと物語が単調になるため、段階を付ける。
- クリティカル：出目 1
- イクストリーム成功：出目 ≤ 技能値/5（端数切り捨て）
- ハード成功：出目 ≤ 技能値/2（端数切り捨て）
- レギュラー成功：出目 ≤ 技能値
- 失敗：出目 > 技能値
- ファンブル：出目 100（または技能値が50以下なら96〜100）

---

## 5. 失敗の代償（詰み防止）
失敗してもゲームを止めない。失敗は「代償」として処理し前進させる。
- HP減少（1〜2）
- SAN減少（1〜2）
- 時間的損失（シーン数上限に近づく/危険度上昇）
- 所持品の消費/破損
- 状況悪化フラグ（ALERTなど）付与